<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitoring Pembayaran Kaos</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app">

        <header class="header">
            <div class="header-content">
                <img src="assets/img/logo.png" alt="Logo" class="header-logo">
                <div>
                    <h1>Monitoring Pembayaran Kaos Pelapak</h1>
                    <p>Pasar Rakyat Bangetayu Kulon</p>
                </div>
            </div>
        </header>

        <div class="card">

            <div class="summary">
                <div class="summary-card total">
                    <span>Total Pelapak</span>
                    <strong id="totalPelapak">0</strong>
                </div>
                <div class="summary-card lunas">
                    <span>Lunas</span>
                    <strong id="totalLunas">0</strong>
                </div>
                <div class="summary-card belum">
                    <span>Belum Lunas</span>
                    <strong id="totalBelum">0</strong>
                </div>
            </div>

            <div class="rekap-container">
                <h3>ðŸ“¦ Rekap Produksi Kaos (Sudah Lunas)</h3>
                <div id="rekapUkuranContainer" class="rekap-grid">
                    <p style="font-size: 12px; color: #666;">Memuat rekap ukuran...</p>
                </div>
            </div>

            <section class="kaos-section">
                <h2>Size Chart & Desain Kaos Pelapak<br>Bahan Lacoste</h2>
                <div class="kaos-image-wrapper">
                    <img src="assets/img/kaos.png" class="kaos-image" id="kaosImage" style="cursor: zoom-in;">
                    <p class="hint">Klik gambar untuk memperbesar</p>
                </div>
            </section>

            <div class="qris-info">
                <p>
                    ðŸ’³ <strong>Pelapak yang sudah membuat QRIS Danamon:</strong><br>
                    Dapatkan <strong>Subsidi Sponsor Rp25.000</strong> untuk setiap pembelian <strong>1 kaos pertama</strong>.<br>
                    Harga Spesial: <strong>Rp60.000</strong> (Hemat dari harga normal <del>Rp85.000</del>).<br><br>
                    <em>*Catatan: Untuk pemesanan kaos ke-2 dan seterusnya, berlaku <strong>harga normal</strong>.</em>
                </p>
            </div>

            <div class="toolbar">
                <input type="text" id="searchInput" placeholder="ðŸ” Cari No Lapak atau Nama Pelapak...">
            </div>

            <div class="desktop-view">
                <table>
                    <thead>
                        <tr>
                            <th>No Lapak</th>
                            <th>Nama Pelapak</th>
                            <th>Ukuran</th>
                            <th>Jml</th>
                            <th>A1</th><th>A2</th><th>A3</th><th>A4</th><th>A5</th>
                            <th>A6</th><th>A7</th><th>A8</th><th>A9</th><th>A10</th>
                            <th>QRIS</th>
                            <th>Sisa Tagihan</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>

            <div class="mobile-view" id="cardContainer"></div>

        </div>
    </div>

    <div class="image-modal hidden" id="imageModal">
        <span class="close" id="closeModal">&times;</span>
        <img class="modal-content" id="modalImg">
    </div>

    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="spinner"></div>
        <p>Memuat data...</p>
    </div>

    <script src="script.js"></script>
    
    <script>
        const kaosImg = document.getElementById('kaosImage');
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImg');
        const closeBtn = document.getElementById('closeModal');

        if(kaosImg) {
            kaosImg.onclick = function() {
                modal.classList.remove('hidden');
                modalImg.src = this.src;
            }
        }
        if(closeBtn) {
            closeBtn.onclick = function() {
                modal.classList.add('hidden');
            }
        }
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.classList.add('hidden');
            }
        }
    </script>
</body>

</html>
